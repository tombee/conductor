name: with-actions
description: Workflow with actions (shell and file operations) for E2E testing

inputs:
  - name: content
    type: string
    description: Content to process

steps:
  - id: generate_text
    type: llm
    model: mock
    prompt: |
      Process this text: {{.inputs.content}}
      Make it uppercase and add a timestamp.

  - id: get_date
    shell.run: "date +%Y-%m-%d"

  - id: write_file
    file.write:
      path: "/tmp/conductor-test-output.txt"
      content: |
        Generated: {{.steps.get_date.stdout}}
        Result: {{.steps.generate_text.response}}

  - id: read_file
    file.read:
      path: "/tmp/conductor-test-output.txt"

outputs:
  - name: file_path
    type: string
    value: "/tmp/conductor-test-output.txt"

  - name: file_content
    type: string
    value: "{{.steps.read_file.content}}"

  - name: generated_text
    type: string
    value: "{{.steps.generate_text.response}}"
