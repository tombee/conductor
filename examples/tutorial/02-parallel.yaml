name: meal-suggestions
description: Generate breakfast, lunch, and dinner ideas in parallel

inputs:
  - name: style
    type: string
    required: false
    default: healthy
    description: Cuisine or dietary style (e.g., healthy, comfort, mediterranean)

steps:
  - id: meals
    type: parallel
    steps:
      - id: breakfast
        type: llm
        model: fast
        prompt: |
          Suggest a {{.style}} breakfast idea.
          Include the recipe name and a brief description (2-3 sentences).

      - id: lunch
        type: llm
        model: fast
        prompt: |
          Suggest a {{.style}} lunch idea.
          Include the recipe name and a brief description (2-3 sentences).

      - id: dinner
        type: llm
        model: fast
        prompt: |
          Suggest a {{.style}} dinner idea.
          Include the recipe name and a brief description (2-3 sentences).

  - id: combine
    type: llm
    model: balanced
    prompt: |
      Format these meal suggestions into a daily meal plan:

      BREAKFAST:
      {{.steps.meals.breakfast.response}}

      LUNCH:
      {{.steps.meals.lunch.response}}

      DINNER:
      {{.steps.meals.dinner.response}}

      Create a nicely formatted daily meal plan with these three meals.
      Add a brief shopping list at the end.

outputs:
  - name: meal_plan
    type: string
    value: "{{.steps.combine.response}}"
