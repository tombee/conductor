# Multi-step workflow with variable passing
name: code-review
description: Reviews code for security issues and summarizes findings
inputs:
  - name: diff
    type: string
    description: The code diff to review
steps:
  - id: security
    type: llm
    model: balanced
    system: "You are a security expert reviewing code changes."
    prompt: "Review for security issues:\n{{.diff}}"
  - id: summary
    type: llm
    model: fast
    prompt: "Summarize this security review in 2-3 sentences:\n{{.steps.security.response}}"
outputs:
  - name: review
    type: string
    value: "{{.steps.summary.response}}"
